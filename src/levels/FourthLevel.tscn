[gd_scene load_steps=12 format=2]

[ext_resource path="res://src/levels/Level.gd" type="Script" id=1]
[ext_resource path="res://src/levels/mall_tileset.tres" type="TileSet" id=2]
[ext_resource path="res://src/entities/Player.tscn" type="PackedScene" id=3]
[ext_resource path="res://src/entities/Sign.tscn" type="PackedScene" id=4]
[ext_resource path="res://src/levels/SignTextSwitcher.gd" type="Script" id=5]
[ext_resource path="res://src/entities/Camera.tscn" type="PackedScene" id=6]
[ext_resource path="res://src/entities/ZapRecharge.tscn" type="PackedScene" id=7]
[ext_resource path="res://src/entities/Switch.tscn" type="PackedScene" id=8]
[ext_resource path="res://src/entities/Gate.tscn" type="PackedScene" id=9]
[ext_resource path="res://src/entities/Door.tscn" type="PackedScene" id=10]
[ext_resource path="res://src/entities/SentryWithPath.tscn" type="PackedScene" id=11]

[node name="ZapIntro" type="Node2D"]
script = ExtResource( 1 )

[node name="background" type="TileMap" parent="."]
tile_set = ExtResource( 2 )
cell_size = Vector2( 32, 32 )
format = 1
tile_data = PoolIntArray( 0, 12, 0, 1, 536870924, 0, 2, 536870924, 0, 3, 536870924, 0, 4, 536870924, 0, 5, 536870924, 0, 6, 536870924, 0, 7, 536870924, 0, 8, 536870924, 0, 9, 536870924, 0, 10, 536870924, 0, 11, 536870924, 0, 12, 536870924, 0, 13, 536870924, 0, 14, 536870924, 0, 15, 536870924, 0, 16, 536870924, 0, 17, 536870924, 0, 18, 536870924, 0, 65536, 12, 0, 65537, 536870924, 0, 65538, 536870924, 0, 65539, 536870924, 0, 65540, 536870924, 0, 65541, 536870924, 0, 65542, 536870924, 0, 65543, 536870924, 0, 65544, 536870924, 0, 65545, 536870924, 0, 65546, 536870924, 0, 65547, 536870924, 0, 65548, 536870924, 0, 65549, 536870924, 0, 65550, 536870924, 0, 65551, 536870924, 0, 65552, 536870924, 0, 65553, 536870924, 0, 65554, 536870924, 0, 131072, 12, 0, 131073, 536870924, 0, 131074, 536870924, 0, 131075, 536870924, 0, 131076, 536870924, 0, 131077, 536870924, 0, 131078, 536870924, 0, 131079, 536870924, 0, 131080, 536870924, 0, 131081, 536870924, 0, 131082, 536870924, 0, 131083, 536870924, 0, 131084, 536870924, 0, 131085, 536870924, 0, 131086, 536870924, 0, 131087, 536870924, 0, 131088, 536870924, 0, 131089, 536870924, 0, 131090, 536870924, 0, 196608, 12, 0, 196609, 536870924, 0, 196610, 536870924, 0, 196611, 536870924, 0, 196612, 536870924, 0, 196613, 536870924, 0, 196614, 536870924, 0, 196615, 536870924, 0, 196616, 536870924, 0, 196617, 536870924, 0, 196618, 536870924, 0, 196619, 536870924, 0, 196620, 536870924, 0, 196621, 536870924, 0, 196622, 536870924, 0, 196623, 536870924, 0, 196624, 536870924, 0, 196625, 536870924, 0, 196626, 536870924, 0, 262144, 12, 0, 262145, 536870924, 0, 262146, 536870924, 0, 262147, 536870924, 0, 262148, 536870924, 0, 262149, 536870924, 0, 262150, 536870924, 0, 262151, 536870924, 0, 262152, 536870924, 0, 262153, 536870924, 0, 262154, 536870924, 0, 262155, 536870924, 0, 262156, 536870924, 0, 262157, 536870924, 0, 262158, 536870924, 0, 262159, 536870924, 0, 262160, 536870924, 0, 262161, 536870924, 0, 262162, 536870924, 0, 327680, 12, 0, 327681, 536870924, 0, 327682, 536870924, 0, 327683, 536870924, 0, 327684, 536870924, 0, 327685, 536870924, 0, 327686, 536870924, 0, 327687, 536870924, 0, 327688, 536870924, 0, 327689, 536870924, 0, 327690, 536870924, 0, 327691, 536870924, 0, 327692, 536870924, 0, 327693, 536870924, 0, 327694, 536870924, 0, 327695, 536870924, 0, 327696, 536870924, 0, 327697, 536870924, 0, 327698, 536870924, 0, 393216, 12, 0, 393217, 536870924, 0, 393218, 536870924, 0, 393219, 536870924, 0, 393220, 536870924, 0, 393221, 536870924, 0, 393222, 536870924, 0, 393223, 536870924, 0, 393224, 536870924, 0, 393225, 536870924, 0, 393226, 536870924, 0, 393227, 536870924, 0, 393228, 536870924, 0, 393229, 536870924, 0, 393230, 536870924, 0, 393231, 536870924, 0, 393232, 536870924, 0, 393233, 536870924, 0, 393234, 536870924, 0, 458752, 12, 0, 458753, 536870924, 0, 458754, 536870924, 0, 458755, 536870924, 0, 458756, 536870924, 0, 458757, 536870924, 0, 458758, 536870924, 0, 458759, 536870924, 0, 458760, 536870924, 0, 458761, 536870924, 0, 458762, 536870924, 0, 458763, 536870924, 0, 458764, 536870924, 0, 458765, 536870924, 0, 458766, 536870924, 0, 458767, 536870924, 0, 458768, 536870924, 0, 458769, 536870924, 0, 458770, 536870924, 0, 524288, 12, 0, 524289, 536870924, 0, 524290, 536870924, 0, 524291, 536870924, 0, 524292, 536870924, 0, 524293, 536870924, 0, 524294, 536870924, 0, 524295, 536870924, 0, 524296, 536870924, 0, 524297, 536870924, 0, 524298, 536870924, 0, 524299, 536870924, 0, 524300, 536870924, 0, 524301, 536870924, 0, 524302, 536870924, 0, 524303, 536870924, 0, 524304, 536870924, 0, 524305, 536870924, 0, 524306, 536870924, 0, 589824, 12, 0, 589825, 12, 0, 589826, 12, 0, 589827, 12, 0, 589828, 12, 0, 589829, 12, 0, 589830, 12, 0, 589831, 12, 0, 589832, 12, 0, 589833, 536870924, 0, 589834, 536870924, 0, 589835, 536870924, 0, 589836, 536870924, 0, 589837, 536870924, 0, 589838, 536870924, 0, 589839, 536870924, 0, 589840, 536870924, 0, 589841, 536870924, 0, 589842, 536870924, 0, 655374, 536870924, 0, 655375, 536870924, 0, 655376, 536870924, 0, 655377, 536870924, 0, 655378, 536870924, 0, 720910, 536870924, 0, 720911, 536870924, 0, 720912, 536870924, 0, 720913, 536870924, 0, 720914, 536870924, 0, 786446, 536870924, 0, 786447, 536870924, 0, 786448, 536870924, 0, 786449, 536870924, 0, 786450, 536870924, 0, 851982, 536870924, 0, 851983, 536870924, 0, 851984, 536870924, 0, 851985, 536870924, 0, 851986, 536870924, 0, 917518, 536870924, 0, 917519, 536870924, 0, 917520, 536870924, 0, 917521, 536870924, 0, 917522, 536870924, 0, 983054, 536870924, 0, 983055, 536870924, 0, 983056, 536870924, 0, 983057, 536870924, 0, 983058, 536870924, 0, 1048590, 536870924, 0, 1048591, 536870924, 0, 1048592, 536870924, 0, 1048593, 536870924, 0, 1048594, 536870924, 0, 1114126, 536870924, 0, 1114127, 536870924, 0, 1114128, 536870924, 0, 1114129, 536870924, 0, 1114130, 536870924, 0, 1179662, 536870924, 0, 1179663, 536870924, 0, 1179664, 536870924, 0, 1179665, 536870924, 0, 1179666, 536870924, 0, 1245198, 536870924, 0, 1245199, 536870924, 0, 1245200, 536870924, 0, 1245201, 536870924, 0, 1245202, 536870924, 0, 1310734, 536870924, 0, 1310735, 536870924, 0, 1310736, 536870924, 0, 1310737, 536870924, 0, 1310738, 536870924, 0, 1376270, 536870924, 0, 1376271, 536870924, 0, 1376272, 536870924, 0, 1376273, 536870924, 0, 1376274, 536870924, 0, 1441798, 536870924, 0, 1441799, 536870924, 0, 1441800, 536870924, 0, 1441806, 536870924, 0, 1441807, 536870924, 0, 1441808, 536870924, 0, 1441809, 536870924, 0, 1441810, 536870924, 0, 1507334, 536870924, 0, 1507335, 536870924, 0, 1507336, 536870924, 0, 1507342, 536870924, 0, 1507343, 536870924, 0, 1507344, 536870924, 0, 1507345, 536870924, 0, 1507346, 536870924, 0, 1572870, 536870924, 0, 1572871, 536870924, 0, 1572872, 536870924, 0, 1572878, 536870924, 0, 1572879, 536870924, 0, 1572880, 536870924, 0, 1572881, 536870924, 0, 1572882, 536870924, 0, 1638401, 536870924, 0, 1638402, 536870924, 0, 1638403, 536870924, 0, 1638404, 536870924, 0, 1638405, 536870924, 0, 1638406, 536870924, 0, 1638407, 536870924, 0, 1638408, 536870924, 0, 1638409, 536870924, 0, 1638410, 536870924, 0, 1638411, 536870924, 0, 1638412, 536870924, 0, 1638413, 536870924, 0, 1638414, 536870924, 0, 1638415, 536870924, 0, 1638416, 536870924, 0, 1638417, 536870924, 0, 1638418, 536870924, 0, 1638419, 536870924, 0, 1638420, 536870924, 0, 1638421, 536870924, 0, 1638422, 536870924, 0, 1638423, 536870924, 0, 1638424, 536870924, 0, 1638425, 536870924, 0, 1638426, 536870924, 0, 1638427, 536870924, 0, 1703937, 536870924, 0, 1703938, 536870924, 0, 1703939, 536870924, 0, 1703940, 536870924, 0, 1703941, 536870924, 0, 1703942, 536870924, 0, 1703943, 536870924, 0, 1703944, 536870924, 0, 1703945, 536870924, 0, 1703946, 536870924, 0, 1703947, 536870924, 0, 1703948, 536870924, 0, 1703949, 536870924, 0, 1703950, 536870924, 0, 1703951, 536870924, 0, 1703952, 536870924, 0, 1703953, 536870924, 0, 1703954, 536870924, 0, 1703955, 536870924, 0, 1703956, 536870924, 0, 1703957, 536870924, 0, 1703958, 536870924, 0, 1703959, 536870924, 0, 1703960, 536870924, 0, 1703961, 536870924, 0, 1703962, 536870924, 0, 1703963, 536870924, 0, 1769473, 536870924, 0, 1769474, 536870924, 0, 1769475, 536870924, 0, 1769476, 536870924, 0, 1769477, 536870924, 0, 1769478, 536870924, 0, 1769479, 536870924, 0, 1769480, 536870924, 0, 1769481, 536870924, 0, 1769482, 536870924, 0, 1769483, 536870924, 0, 1769484, 536870924, 0, 1769485, 536870924, 0, 1769486, 536870924, 0, 1769487, 536870924, 0, 1769488, 536870924, 0, 1769489, 536870924, 0, 1769490, 536870924, 0, 1769491, 536870924, 0, 1769492, 536870924, 0, 1769493, 536870924, 0, 1769494, 536870924, 0, 1769495, 536870924, 0, 1769496, 536870924, 0, 1769497, 536870924, 0, 1769498, 536870924, 0, 1769499, 536870924, 0, 1835022, 536870924, 0, 1835023, 536870924, 0, 1835024, 536870924, 0, 1835025, 536870924, 0, 1835026, 536870924, 0, 1835027, 536870924, 0 )

[node name="decoration" type="TileMap" parent="."]
tile_set = ExtResource( 2 )
cell_size = Vector2( 32, 32 )
format = 1
tile_data = PoolIntArray( 589838, 536870938, 0 )

[node name="collidables" type="TileMap" parent="."]
tile_set = ExtResource( 2 )
cell_size = Vector2( 32, 32 )
collision_layer = 9
format = 1
tile_data = PoolIntArray( 0, 26, 0, 18, 536870938, 0, 65536, 26, 0, 65554, 536870938, 0, 131072, 26, 0, 131090, 536870938, 0, 196608, 26, 0, 196626, 536870938, 0, 262144, 26, 0, 262162, 536870938, 0, 327680, 26, 0, 327698, 536870938, 0, 393216, 26, 0, 393234, 536870938, 0, 458752, 26, 0, 458766, 32, 0, 458767, 30, 0, 458770, 536870938, 0, 524288, 26, 0, 524302, 536870938, 0, 524303, 26, 0, 524306, 536870938, 0, 589824, 9, 0, 589825, 9, 0, 589826, 9, 0, 589827, 9, 0, 589828, 9, 0, 589829, 9, 0, 589830, 9, 0, 589831, 9, 0, 589832, 9, 0, 589833, 9, 0, 589834, 9, 0, 589835, 9, 0, 589836, 9, 0, 589837, 9, 0, 589838, 536870941, 0, 589839, 26, 0, 589842, 536870938, 0, 655374, 536870938, 0, 655375, 26, 0, 655378, 536870938, 0, 720910, 536870938, 0, 720911, 26, 0, 720914, 536870938, 0, 786446, 536870938, 0, 786447, 26, 0, 786450, 536870938, 0, 851982, 536870938, 0, 851983, 26, 0, 851986, 536870938, 0, 917518, 536870938, 0, 917519, 26, 0, 917522, 536870938, 0, 983054, 536870938, 0, 983055, 26, 0, 983058, 536870938, 0, 1048590, 536870938, 0, 1048591, 26, 0, 1048594, 536870938, 0, 1114126, 536870938, 0, 1114127, 26, 0, 1114130, 536870938, 0, 1179662, 536870938, 0, 1179663, 26, 0, 1179666, 536870938, 0, 1245198, 536870938, 0, 1245199, 26, 0, 1245202, 536870938, 0, 1310734, 536870938, 0, 1310735, 26, 0, 1310738, 536870938, 0, 1376261, 32, 0, 1376262, 31, 0, 1376263, 31, 0, 1376264, 31, 0, 1376265, 30, 0, 1376270, 536870938, 0, 1376271, 26, 0, 1376274, 536870938, 0, 1441797, 1073741850, 0, 1441801, 536870938, 0, 1441806, 536870938, 0, 1441807, 26, 0, 1441810, 536870938, 0, 1507333, 1073741850, 0, 1507337, 536870938, 0, 1507342, 536870938, 0, 1507343, 26, 0, 1507346, 536870938, 0, 1572864, 35, 0, 1572865, 31, 0, 1572866, 31, 0, 1572867, 31, 0, 1572868, 31, 0, 1572869, 30, 0, 1572873, 32, 0, 1572874, 31, 0, 1572875, 31, 0, 1572876, 31, 0, 1572877, 31, 0, 1572878, 31, 0, 1572879, 30, 0, 1572882, 32, 0, 1572883, 31, 0, 1572884, 31, 0, 1572885, 31, 0, 1572886, 31, 0, 1572887, 31, 0, 1572888, 31, 0, 1572889, 31, 0, 1572890, 31, 0, 1572891, 31, 0, 1572892, 536870947, 0, 1638400, 1073741850, 0, 1638428, 536870938, 0, 1703936, 1073741850, 0, 1703964, 536870938, 0, 1769472, 1073741850, 0, 1769500, 536870938, 0, 1835008, 536870921, 0, 1835009, 536870921, 0, 1835010, 536870921, 0, 1835011, 536870921, 0, 1835012, 536870921, 0, 1835013, 536870921, 0, 1835014, 536870921, 0, 1835015, 536870921, 0, 1835016, 536870921, 0, 1835017, 536870921, 0, 1835018, 536870921, 0, 1835019, 536870921, 0, 1835020, 536870921, 0, 1835021, 536870921, 0, 1835022, 536870921, 0, 1835023, 536870921, 0, 1835024, 536870921, 0, 1835025, 536870921, 0, 1835026, 536870921, 0, 1835027, 536870921, 0, 1835028, 536870921, 0, 1835029, 536870921, 0, 1835030, 536870921, 0, 1835031, 536870921, 0, 1835032, 536870921, 0, 1835033, 536870921, 0, 1835034, 536870921, 0, 1835035, 536870921, 0, 1835036, 536870921, 0 )

[node name="Switch" parent="." instance=ExtResource( 8 )]
position = Vector2( 80.102, 864 )
switch_id = 1

[node name="Gate" parent="." instance=ExtResource( 9 )]
position = Vector2( 688, 848 )
collision_layer = 8
gate_id = 1

[node name="Door" parent="." instance=ExtResource( 10 )]
position = Vector2( 800, 864 )

[node name="Camera" parent="." instance=ExtResource( 6 )]
position = Vector2( 572, 144 )
rotation = -3.05433
min_angle = 190
max_angle = 195
scan_speed = 0.0

[node name="Camera2" parent="." instance=ExtResource( 6 )]
position = Vector2( 240, 708 )
rotation = 3.14159
min_angle = 170
max_angle = 190

[node name="VisionCone" parent="Camera2" index="0"]
detect_radius = 160

[node name="SignTextSwitcher" type="Node2D" parent="."]
script = ExtResource( 5 )

[node name="Sign" parent="SignTextSwitcher" instance=ExtResource( 4 )]
position = Vector2( 176, 240 )
sign_text = "You've managed to hack in a way to properly hide yourself.\\nHit a camera or a sentry with your zapper to upload a bug into their optic routines and render yourself completely invisible to their sensors.\\nBe warned: their genetic algorithms learn fast, so using it once in any area of the mall will harden the firewall in that area.\\nIn other words, you only get one use per level, unless you pick up an encryption hash to mask your activity. They're shaped like lightning bolts."

[node name="Sign" parent="." instance=ExtResource( 4 )]
position = Vector2( 544, 848 )
sign_text = "This mall used to use smart doors connected to the 'net, until The Shutter Incident back in 202X. Now all the doors are dumb, and impervious to your bug uploads."

[node name="ZapRecharge" parent="." instance=ExtResource( 7 )]
position = Vector2( 480, 192 )

[node name="ZapRecharge2" parent="." instance=ExtResource( 7 )]
position = Vector2( 624, 864 )

[node name="Path2D" parent="." instance=ExtResource( 11 )]
position = Vector2( 124, 876 )

[node name="Sentry" parent="Path2D/PathFollow2D" index="0"]
drive_speed = 40

[node name="PatrolWait" parent="Path2D/PathFollow2D/Sentry" index="4"]
wait_time = 1.5

[node name="Player" parent="." instance=ExtResource( 3 )]
position = Vector2( 80.068, 232 )

[node name="Upgrades" parent="Player" index="7"]
has_zapper = true

[editable path="Camera2"]
[editable path="Path2D"]
[editable path="Path2D/PathFollow2D/Sentry"]
[editable path="Player"]
